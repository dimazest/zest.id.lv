{% extends "base.html" %}

{% block content %}
  <div class="uk-grid" data-uk-grid-margin>

    <div class="uk-width-3-4">
      <article class="uk-article">

        <h1 class="uk-article-title">{{ page.title }}</h1>

        {{ page.content }}

      </article>

      {% if DISQUS_SITENAME and SITEURL and page and page.status != "draft" %}
      <div class="comments">
        <h2 id="comments">Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          var disqus_shortname = '{{ DISQUS_SITENAME }}';
          var disqus_identifier = '{{ page.url }}';
          var disqus_url = '{{ SITEURL }}/{{ page.url }}';
          (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//{{ DISQUS_SITENAME }}.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>Please enable JavaScript to view the comments.</noscript>
      </div>
      {% endif %}
    </div>

    {% if page.toc %}
      <div class="uk-width-large-1-4">
        <div class="uk-sticky-placeholder" style="height: 270px;">
          <div class="uk-panel uk-panel-box toc" data-uk-sticky="{top:35}" data-uk-scrollspy-nav>
            {{ page.toc }}
          </div>
        </div>
      </div>
    {% endif %}
  </div>
{% endblock content %}
